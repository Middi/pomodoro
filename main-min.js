function draw(){var t=0*Math.PI,e=2*Math.PI;mainContext.beginPath(),mainContext.arc(150,150,100,t,e,!1),mainContext.lineWidth=10,mainContext.strokeStyle="rgba(53, 50, 56, 1.0)",mainContext.stroke(),mainContext.beginPath(),mainContext.arc(150,150,100,t,e,!1),mainContext.lineWidth=10,mainContext.strokeStyle="rgba(216, 0, 96, 1.0)",mainContext.stroke()}function convertMins(t){var e=Math.floor(t/60),n=t%60;return n<10?e+":0"+n:e+":"+n}function countDown(t){function e(){timeLeft-counter>0?(counterDom.innerHTML=convertMins(timeLeft-counter),counter++):(clearInterval(intervalId),rest(),audio.play())}timeLeft=t,counter=0,document.getElementById("counter").style.background="none",counterDom.innerHTML=convertMins(timeLeft-counter),e(),intervalId=setInterval(e,1e3)}function rest(){function t(){if(!(timeLeft-counter>0))return clearInterval(intervalId),countDown(1500),void audio.play();counterDom.innerHTML=convertMins(timeLeft-counter),counter++}timeLeft=300,counter=0,counterDom.innerHTML=convertMins(timeLeft-counter),document.getElementById("counter").style.background="rgba(216, 0, 96, 1.0)",t(),intervalId=setInterval(t,1e3)}function startPomodoro(){button.removeEventListener("click",startPomodoro),button.addEventListener("click",stopPomodoro),clearInterval(intervalId),audio.pause(),document.getElementById("counter").style.background="none",countDown(15),button.innerHTML="RESTART"}function stopPomodoro(){button.removeEventListener("click",stopPomodoro),button.addEventListener("click",startPomodoro),clearInterval(intervalId),audio.pause(),document.getElementById("counter").style.background="none",counterDom.innerHTML="25:00",button.innerHTML="START"}var mainCanvas=document.getElementById("myCanvas"),mainContext=mainCanvas.getContext("2d");draw();var counter=0,timeLeft,intervalId,audio=new Audio("alarm.mp3"),counterDom=document.getElementById("time"),button=document.getElementById("start-button");button.addEventListener("click",startPomodoro),document.getElementById("plus").addEventListener("click",function(){console.log("hey")});